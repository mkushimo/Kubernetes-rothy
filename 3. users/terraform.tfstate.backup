{
  "version": 4,
  "terraform_version": "1.9.3",
  "serial": 15,
  "lineage": "c9758589-4db2-ebc1-0eec-288097ef8054",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "058264270488",
            "arn": "arn:aws:iam::058264270488:root",
            "id": "058264270488",
            "user_id": "058264270488"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "developer",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "3146063397",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowDeveloper\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ssm:GetParameter\",\n        \"eks:ListUpdates\",\n        \"eks:ListNodegroups\",\n        \"eks:ListFargateProfiles\",\n        \"eks:ListClusters\",\n        \"eks:DescribeNodegroup\",\n        \"eks:DescribeCluster\",\n        \"eks:AccessKubernetesApi\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "minified_json": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"AllowDeveloper\",\"Effect\":\"Allow\",\"Action\":[\"ssm:GetParameter\",\"eks:ListUpdates\",\"eks:ListNodegroups\",\"eks:ListFargateProfiles\",\"eks:ListClusters\",\"eks:DescribeNodegroup\",\"eks:DescribeCluster\",\"eks:AccessKubernetesApi\"],\"Resource\":\"*\"}]}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "eks:AccessKubernetesApi",
                  "eks:DescribeCluster",
                  "eks:DescribeNodegroup",
                  "eks:ListClusters",
                  "eks:ListFargateProfiles",
                  "eks:ListNodegroups",
                  "eks:ListUpdates",
                  "ssm:GetParameter"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": "AllowDeveloper"
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "masters",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "236601581",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowAdmin\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"*\",\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"AllowPassRole\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"iam:PassRole\",\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringEquals\": {\n          \"iam:PassedToService\": \"eks.amazonaws.com\"\n        }\n      }\n    }\n  ]\n}",
            "minified_json": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"AllowAdmin\",\"Effect\":\"Allow\",\"Action\":\"*\",\"Resource\":\"*\"},{\"Sid\":\"AllowPassRole\",\"Effect\":\"Allow\",\"Action\":\"iam:PassRole\",\"Resource\":\"*\",\"Condition\":{\"StringEquals\":{\"iam:PassedToService\":\"eks.amazonaws.com\"}}}]}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "*"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": "AllowAdmin"
              },
              {
                "actions": [
                  "iam:PassRole"
                ],
                "condition": [
                  {
                    "test": "StringEquals",
                    "values": [
                      "eks.amazonaws.com"
                    ],
                    "variable": "iam:PassedToService"
                  }
                ],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": "AllowPassRole"
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "masters_assume_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "4249905982",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowAccountAssumeRole\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"AWS\": \"058264270488\"\n      }\n    }\n  ]\n}",
            "minified_json": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"AllowAccountAssumeRole\",\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Principal\":{\"AWS\":\"058264270488\"}}]}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "sts:AssumeRole"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "058264270488"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [],
                "sid": "AllowAccountAssumeRole"
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "masters_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "731093155",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowMastersAssumeRole\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Resource\": \"arn:aws:iam::058264270488:role/Masters-eks-Role\"\n    }\n  ]\n}",
            "minified_json": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"AllowMastersAssumeRole\",\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Resource\":\"arn:aws:iam::058264270488:role/Masters-eks-Role\"}]}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "sts:AssumeRole"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:iam::058264270488:role/Masters-eks-Role"
                ],
                "sid": "AllowMastersAssumeRole"
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_account_password_policy",
      "name": "strict",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allow_users_to_change_password": true,
            "expire_passwords": false,
            "hard_expiry": false,
            "id": "iam-account-password-policy",
            "max_password_age": 0,
            "minimum_password_length": 8,
            "password_reuse_prevention": 0,
            "require_lowercase_characters": true,
            "require_numbers": true,
            "require_symbols": true,
            "require_uppercase_characters": true
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_group",
      "name": "eks_developer",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::058264270488:group/Developer",
            "id": "Developer",
            "name": "Developer",
            "path": "/",
            "unique_id": "AGPAQ3EGSG2MKH7U46WG7"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_group",
      "name": "eks_masters",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::058264270488:group/Masters",
            "id": "Masters",
            "name": "Masters",
            "path": "/",
            "unique_id": "AGPAQ3EGSG2MKP5UBWUG5"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_group_policy",
      "name": "developer_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "group": "Developer",
            "id": "Developer:developer",
            "name": "developer",
            "name_prefix": "",
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"ssm:GetParameter\",\"eks:ListUpdates\",\"eks:ListNodegroups\",\"eks:ListFargateProfiles\",\"eks:ListClusters\",\"eks:DescribeNodegroup\",\"eks:DescribeCluster\",\"eks:AccessKubernetesApi\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"AllowDeveloper\"}]}"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_group.eks_developer",
            "data.aws_iam_policy_document.developer"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_group_policy",
      "name": "masters_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "group": "Masters",
            "id": "Masters:masters",
            "name": "masters",
            "name_prefix": "",
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:iam::058264270488:role/Masters-eks-Role\",\"Sid\":\"AllowMastersAssumeRole\"}]}"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_group.eks_masters",
            "data.aws_caller_identity.current",
            "data.aws_iam_policy_document.masters_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "eks_admin",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::058264270488:policy/eks-masters",
            "attachment_count": 0,
            "description": "",
            "id": "arn:aws:iam::058264270488:policy/eks-masters",
            "name": "eks-masters",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":\"*\",\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"AllowAdmin\"},{\"Action\":\"iam:PassRole\",\"Condition\":{\"StringEquals\":{\"iam:PassedToService\":\"eks.amazonaws.com\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"AllowPassRole\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAQ3EGSG2MHYAOULVIU",
            "tags": null,
            "tags_all": {
              "managedBy": "Terraform",
              "team": "DevOps"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_iam_policy_document.masters"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "masters",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::058264270488:role/Masters-eks-Role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"058264270488\"},\"Sid\":\"AllowAccountAssumeRole\"}],\"Version\":\"2012-10-17\"}",
            "create_date": "2024-09-28T08:35:07Z",
            "description": "",
            "force_detach_policies": false,
            "id": "Masters-eks-Role",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "Masters-eks-Role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": null,
            "tags_all": {
              "managedBy": "Terraform",
              "team": "DevOps"
            },
            "unique_id": "AROAQ3EGSG2ME46CGE3FV"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_caller_identity.current",
            "data.aws_iam_policy_document.masters_assume_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "admin_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "Masters-eks-Role-20240928083508465900000003",
            "policy_arn": "arn:aws:iam::058264270488:policy/eks-masters",
            "role": "Masters-eks-Role"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_policy.eks_admin",
            "aws_iam_role.masters",
            "data.aws_caller_identity.current",
            "data.aws_iam_policy_document.masters",
            "data.aws_iam_policy_document.masters_assume_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_user",
      "name": "eks_admins",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "Mary-Eks",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::058264270488:user/Mary-Eks",
            "force_destroy": true,
            "id": "Mary-Eks",
            "name": "Mary-Eks",
            "path": "/",
            "permissions_boundary": "",
            "tags": {
              "Department": "eks-admins"
            },
            "tags_all": {
              "Department": "eks-admins",
              "managedBy": "Terraform",
              "team": "DevOps"
            },
            "unique_id": "AIDAQ3EGSG2MLDIQU2AEO"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_user",
      "name": "eks_developers",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "Tim-Eks",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::058264270488:user/Tim-Eks",
            "force_destroy": true,
            "id": "Tim-Eks",
            "name": "Tim-Eks",
            "path": "/",
            "permissions_boundary": "",
            "tags": {
              "Department": "eks-developers"
            },
            "tags_all": {
              "Department": "eks-developers",
              "managedBy": "Terraform",
              "team": "DevOps"
            },
            "unique_id": "AIDAQ3EGSG2MEV6D3JABJ"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_user_group_membership",
      "name": "db_team",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "Tim-Eks",
          "schema_version": 0,
          "attributes": {
            "groups": [
              "Developer"
            ],
            "id": "terraform-20240928083508362400000002",
            "user": "Tim-Eks"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_group.eks_developer",
            "aws_iam_user.eks_developers"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_user_group_membership",
      "name": "masters_team",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "Mary-Eks",
          "schema_version": 0,
          "attributes": {
            "groups": [
              "Masters"
            ],
            "id": "terraform-20240928083508357600000001",
            "user": "Mary-Eks"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_group.eks_masters",
            "aws_iam_user.eks_admins"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_user_login_profile",
      "name": "Admin_user",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "Mary-Eks",
          "schema_version": 0,
          "attributes": {
            "encrypted_password": "wcFMA6mXp0l3mojbAQ/+McWEWMnZrGjIw/JEiZlF9Cy5vyVcBiOLlPB5t5gLUkYA7wYgDSU/vp2KKySdHPKKgstXSdrayzqssA3oq0rjUg53OLrFyUfo5hSlBXOysmHm3eWtnPJ7N8thq6KEjNIqpnSnyy/yBmaOL0c2gC+yVk3HTK55NEooUKUNaJ+M4cNFU/7cv1QZGz8C0ZOXNgjTdLDWRMPlSaSyA5Ji+NezxZeOwxrHulHoif4ZOyq26oBo5RlO3fm23jDcYHy2ZdQSYLiH2BaDu7d7w0oXvrBEEz2wiSNmxt8GFQzaXTfz1KtUVOmr4R+XyVSJbm7+MRsH+TbgmbEjWS/wpUseVEM+ZSHWAPIixMFeTIrh8/giAaqMUgrWqvF+NJrBt24ZOBts4UbivX/Yrbzy0qOx3u4/zs6YcE2gsDeRbOHoto6iMBcUmTm32yTUIfSaSJ4zzgtI53kyhPIz3cslYLjU9e5+oT85PD7/7NDncgnV8ELei8cfVDMnq2ndXm+fWakRrc8T30U+ntw1228p21X/JLGK1aSvdctshP/uwFu9GZSJLh9AHIgWUa3huOmJ40Q7MKS5yijRLNFfIMAlgVrI06q8hO78xAo7YXPQuJFDdq9B9fOqxOM0dGNXmWm2CiTY5e12ExteB4mV+sCWC6YGEQERUhVS7RdNM6nxY9UU9UU8BIDSRQF8yz3iSzln1gcRpsPu+2kqIWGob3SQ3imU4ZhejuVyE1oOlFUHbF7EtwaDzAvfUt1Zu9Twh9VsS5aKitqRbVsOMLvzUg==",
            "id": "Mary-Eks",
            "key_fingerprint": "30ec23e62f226aeda5589d538ce4ee6a485bd7d4",
            "password": null,
            "password_length": 20,
            "password_reset_required": true,
            "pgp_key": "keybase:kenmak",
            "user": "Mary-Eks"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_user.eks_admins"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_user_login_profile",
      "name": "DB_user",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "Tim-Eks",
          "schema_version": 0,
          "attributes": {
            "encrypted_password": "wcFMA6mXp0l3mojbAQ/9EcsLpGH++IyZPa9NHGDSY9JSmmrCQsT577GQTxI0xOPxZJ6byx/sh3hd7PcHujFbdnT5ulMXAGTwcyzwFkJaywfwbsH4QKZPd/7BApuEWGO7YZXGei/78BpX0Ajmyb+OKbVb8nOuRxT05dg3+xfT9d2V4/Q2GQ0Muzvj1QBo3d/VoKpqtzriGGtA38IjoMsGsdSjXVQ8gbOKv2B6D45mnUz13TgI7JAZ97E1wYMpvAiMkBLSe6/EiNlNxjC5yOCguXsNZRbcc35WezGdIyMF/OrtFs1Fgif6Hb4dDqsvO+8Z8A4hy9dOWwg/PYMlPFXo1fdQDZVXHtK5H9MRow5bBtiNmDem112On4XvNRWRgJ0y/5BCWp46eBDdxhhlWRG6kI2Vk4Ar1FwIMLwBdLmTlyoMft93M8vFd9Rj4jWAPkV5YUg9Yk+ihERLoiHgiN8uA9gclb8wUcoOCub1v/oSKFZ3RRtl7XKIbRSOg+YpV3wo2xSWhsSqm8gI3UFxga4SDT5pjwaelBMFpNH7pnJ+iGVjujdxjIa2phbUbRdB905lzklxv1o56FfZcpwSY/YYrDvj/RpF+Ql99sq4Q1+cQOqhvLh5cOmlcd2KEn0kllF+JA8unabuqYijgDELSrwbDvAP3kfBPEzG+KjMsu1r0BPWzwW2091DEF+mqn68+2zSRQGxqrf821uNXYp6mUCF/5CqSjJejE8C0EeddXl8HOPiEM0Mf5POEyeNrPZdA5M7iHhF2ADkRY9pGG4ptKDvl9U1P8zo5Q==",
            "id": "Tim-Eks",
            "key_fingerprint": "30ec23e62f226aeda5589d538ce4ee6a485bd7d4",
            "password": null,
            "password_length": 20,
            "password_reset_required": true,
            "pgp_key": "keybase:kenmak",
            "user": "Tim-Eks"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_user.eks_developers"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
